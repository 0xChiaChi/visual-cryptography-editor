<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="js/jquery-3.4.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
    <title>Document</title>
  </head>
  <body>
    <div>
      <img id="src-image" alt="NONO">
    </div>
    <div>
      <input type="file" id="inputfile">
    </div>
    <canvas id="eee"></canvas>
  </body>
  <script type="text/javascript">
    var cv = window.cv;
    var test=document.getElementById('src-image');
    var test_input=document.getElementById('inputfile');
    test_input.addEventListener("change",(e)=>{
      test.src= URL.createObjectURL(e.target.files[0]);
    },false);
    test.onload=function() {
      let mat=cv.imread(test);
      console.log(mat);
      cv.imshow('eee',mat);
      mat.delete();
    }
    window.onOpenCvReady = function(){
      console.log("OK");
    }
  </script>
  <script src="js/opencv.js" async onload="onOpenCvReady();"></script>
</html>